<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: head">
    <title th:text="${categorie.id} ? 'Modifier catégorie' : 'Ajouter catégorie'"></title>
</head>
<body>
<header th:replace="fragments/header :: header"></header>

<main class="main-content">
    <div class="container">
        <div class="form-header">
            <h1 th:text="${categorie.id} ? 'Modifier la catégorie' : 'Ajouter une nouvelle catégorie'"></h1>
            <a th:href="@{/categories}" class="btn-back">Retour à la liste</a>
        </div>

        <form th:action="${categorie.id} ? @{/categories/modifier/{id}(id=${categorie.id})} : @{/categories/ajouter}" 
              th:object="${categorie}" method="post" class="form-container">
            <div class="form-group">
                <label for="nom">Nom de la catégorie</label>
                <input type="text" id="nom" th:field="*{nom}" class="form-control">
                <span class="error-message" th:if="${#fields.hasErrors('nom')}" th:errors="*{nom}"></span>
            </div>

            <div class="form-group">
                <label for="thumbnail">Thumbnail</label>
                <input type="text" id="thumbnail" th:field="*{thumbnail}" class="form-control" placeholder="URL de l'image">
                <span class="error-message" th:if="${#fields.hasErrors('thumbnail')}" th:errors="*{thumbnail}"></span>
            </div>

            <div class="form-group">
                <label for="description">Description</label>
                <textarea id="description" th:field="*{description}" class="form-control" rows="4"></textarea>
                <span class="error-message" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></span>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn-submit">
                    <span th:text="${categorie.id} ? 'Mettre à jour' : 'Enregistrer'"></span>
                </button>
            </div>
        </form>
    </div>
</main>

<footer th:replace="fragments/footer :: footer"></footer>
</body>
</html>